{"version":3,"file":"ng-konami.js","sources":["../../src/app/models/ng-konami-code.model.ts","../../src/app/services/ng-konami.service.ts","../../src/app/ng-konami.module.ts","../../src/ng-konami.ts"],"sourcesContent":["export class NgKonamiCodeModel {\n  public code:string[];\n  public callback:Function;\n\n  public completions:number = 0;\n  public streak:number = 0;\n\n  constructor() {\n\n  }\n}\n","import {Injectable} from '@angular/core';\n\nimport {NgKonamiCodeModel} from '../models/ng-konami-code.model';\n\n@Injectable()\nexport class NgKonamiService {\n  public konamiCodes:NgKonamiCodeModel[] = [];\n\n  public currentPattern = [];\n\n  constructor() {\n\n  }\n\n  listen(event:KeyboardEvent):void {\n    this.currentPattern.push(event);\n\n    for (let i = 0; i < this.konamiCodes.length; i++) {\n      const konamiCode = this.konamiCodes[i];\n\n      const codeCount = konamiCode.code.length;\n\n      const requiredKey = konamiCode.code[konamiCode.streak].trim();\n\n      if (requiredKey.toLowerCase() === event.key.toLowerCase() || requiredKey === event.code) {\n        konamiCode.streak++;\n\n        if (codeCount === konamiCode.streak) {\n          konamiCode.callback();\n\n          konamiCode.streak = 0;\n          konamiCode.completions++;\n        }\n      } else {\n        konamiCode.streak = 0;\n      }\n    }\n  }\n\n  register(code:string, callback:Function):void {\n    const konamiCode = new NgKonamiCodeModel();\n    konamiCode.code = code.split(',');\n    konamiCode.callback = callback;\n\n    this.konamiCodes.push(konamiCode);\n  }\n\n  removeAll():void {\n    this.konamiCodes = [];\n  }\n}\n","import {NgModule} from '@angular/core';\n\nimport {NgKonamiService} from './services/ng-konami.service';\n\n@NgModule({\n  providers: [\n    NgKonamiService\n  ]\n})\nexport class NgKonamiModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './main';\n"],"names":[],"mappings":";;MAAa,iBAAiB;IAO5B;QAHO,gBAAW,GAAU,CAAC,CAAC;QACvB,WAAM,GAAU,CAAC,CAAC;KAIxB;;;MCJU,eAAe;IAK1B;QAJO,gBAAW,GAAuB,EAAE,CAAC;QAErC,mBAAc,GAAG,EAAE,CAAC;KAI1B;IAED,MAAM,CAAC,KAAmB;QACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEhC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAChD,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAEvC,MAAM,SAAS,GAAG,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC;YAEzC,MAAM,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;YAE9D,IAAI,WAAW,CAAC,WAAW,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,WAAW,KAAK,KAAK,CAAC,IAAI,EAAE;gBACvF,UAAU,CAAC,MAAM,EAAE,CAAC;gBAEpB,IAAI,SAAS,KAAK,UAAU,CAAC,MAAM,EAAE;oBACnC,UAAU,CAAC,QAAQ,EAAE,CAAC;oBAEtB,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;oBACtB,UAAU,CAAC,WAAW,EAAE,CAAC;iBAC1B;aACF;iBAAM;gBACL,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;aACvB;SACF;KACF;IAED,QAAQ,CAAC,IAAW,EAAE,QAAiB;QACrC,MAAM,UAAU,GAAG,IAAI,iBAAiB,EAAE,CAAC;QAC3C,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAClC,UAAU,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAE/B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KACnC;IAED,SAAS;QACP,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;KACvB;;;YA7CF,UAAU;;;;MCKE,cAAc;;;YAL1B,QAAQ,SAAC;gBACR,SAAS,EAAE;oBACT,eAAe;iBAChB;aACF;;;ACRD;;;;;;"}