{"version":3,"file":"ng-konami.umd.js","sources":["../../src/app/models/ng-konami-code.model.ts","../../src/app/services/ng-konami.service.ts","../../src/app/ng-konami.module.ts","../../src/ng-konami.ts"],"sourcesContent":["export class NgKonamiCodeModel {\n  public code:string[];\n  public callback:Function;\n\n  public completions:number = 0;\n  public streak:number = 0;\n\n  constructor() {\n\n  }\n}\n","import {Injectable} from '@angular/core';\n\nimport {NgKonamiCodeModel} from '../models/ng-konami-code.model';\n\n@Injectable()\nexport class NgKonamiService {\n  public konamiCodes:NgKonamiCodeModel[] = [];\n\n  public currentPattern = [];\n\n  constructor() {\n\n  }\n\n  listen(event:KeyboardEvent):void {\n    this.currentPattern.push(event);\n\n    for (let i = 0; i < this.konamiCodes.length; i++) {\n      const konamiCode = this.konamiCodes[i];\n\n      const codeCount = konamiCode.code.length;\n\n      const requiredKey = konamiCode.code[konamiCode.streak].trim();\n\n      if (requiredKey.toLowerCase() === event.key.toLowerCase() || requiredKey === event.code) {\n        konamiCode.streak++;\n\n        if (codeCount === konamiCode.streak) {\n          konamiCode.callback();\n\n          konamiCode.streak = 0;\n          konamiCode.completions++;\n        }\n      } else {\n        konamiCode.streak = 0;\n      }\n    }\n  }\n\n  register(code:string, callback:Function):void {\n    const konamiCode = new NgKonamiCodeModel();\n    konamiCode.code = code.split(',');\n    konamiCode.callback = callback;\n\n    this.konamiCodes.push(konamiCode);\n  }\n\n  removeAll():void {\n    this.konamiCodes = [];\n  }\n}\n","import {NgModule} from '@angular/core';\n\nimport {NgKonamiService} from './services/ng-konami.service';\n\n@NgModule({\n  providers: [\n    NgKonamiService\n  ]\n})\nexport class NgKonamiModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './main';\n"],"names":["Injectable","NgModule"],"mappings":";;;;;;;QAOE;YAHO,gBAAW,GAAU,CAAC,CAAC;YACvB,WAAM,GAAU,CAAC,CAAC;SAIxB;gCACF;KAAA;;;QCAC;YAJO,gBAAW,GAAuB,EAAE,CAAC;YAErC,mBAAc,GAAG,EAAE,CAAC;SAI1B;QAED,gCAAM,GAAN,UAAO,KAAmB;YACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAEhC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAChD,IAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAEvC,IAAM,SAAS,GAAG,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC;gBAEzC,IAAM,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;gBAE9D,IAAI,WAAW,CAAC,WAAW,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,WAAW,KAAK,KAAK,CAAC,IAAI,EAAE;oBACvF,UAAU,CAAC,MAAM,EAAE,CAAC;oBAEpB,IAAI,SAAS,KAAK,UAAU,CAAC,MAAM,EAAE;wBACnC,UAAU,CAAC,QAAQ,EAAE,CAAC;wBAEtB,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;wBACtB,UAAU,CAAC,WAAW,EAAE,CAAC;qBAC1B;iBACF;qBAAM;oBACL,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;iBACvB;aACF;SACF;QAED,kCAAQ,GAAR,UAAS,IAAW,EAAE,QAAiB;YACrC,IAAM,UAAU,GAAG,IAAI,iBAAiB,EAAE,CAAC;YAC3C,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAClC,UAAU,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAE/B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACnC;QAED,mCAAS,GAAT;YACE,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;SACvB;;;;gBA7CFA,eAAU;;;;;QCKX;;;;;gBALCC,aAAQ,SAAC;oBACR,SAAS,EAAE;wBACT,eAAe;qBAChB;iBACF;;;ICRD;;;;;;;;;;;;;;"}